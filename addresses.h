#pragma once
#include "platform.h"
#include "stdint.h"
#include "utils/module.h"

namespace modules
{
	inline CModule *server;
}

typedef CUtlStringToken WorldGroupId_t;

namespace addresses
{
	void Initialize();
	inline void (FASTCALL *Init_GC_SERVER_SYSTEM)(void* pSystem);
	inline void (FASTCALL *Hello_SERVER_GC)(void* pGC);
	inline void (FASTCALL *Init_Steam_GC)(void* pSystem);
	inline void (FASTCALL *Init_CCSGCServerSystem)();
	inline void (FASTCALL *Active_GC_session)();
}

namespace sigs
{
#ifdef _WIN32
	inline const byte *IGameSystem_InitAllSystems_pFirst = (byte *)"\x48\x8B\x1D\x2A\x2A\x2A\x2A\x48\x85\xDB\x0F\x84\x2A\x2A\x2A\x2A\xBE\x2A\x2A\x2A\x2A\x0F\x1F\x00\x48\x8B\x7B\x10";
	inline const byte *Hello_SERVER_GC = (byte *)"\x40\x55\x41\x56\x48\x8D\x6C\x24\x2A\x48\x81\xEC\x88\x00\x00\x00";
	inline const byte *Init_Steam_GC = (byte *)"\x48\x89\x5C\x24\x2A\x48\x89\x6C\x24\x2A\x48\x89\x74\x24\x2A\x57\x48\x83\xEC\x30\x48\x8B\xD9\x48\x8D\x0D";
	inline const byte *Init_CCSGCServerSystem = (byte *)"\x40\x53\x48\x83\xEC\x20\x48\x8D\x0D\x2A\x2A\x2A\x2A\xE8\x2A\x2A\x2A\x2A\x81\x25\x2A\x2A\x2A\x2A\xFF\xFF\x0F\xFF";
	inline const byte *Active_GC_session = (byte *)"\x48\x8B\xC4\x48\x89\x70\x2A\x55\x57\x41\x56\x48\x8D\x68";
#else
	inline const byte *IGameSystem_InitAllSystems_pFirst = (byte *)"\x4C\x8B\x35\x2A\x2A\x2A\x2A\x4D\x85\xF6\x75\x2D\xE9\x2A\x2A\x2A\x2A\x0F\x1F\x40\x00\x48\x8B\x05";
	inline const byte *Hello_SERVER_GC = (byte *)"\x55\x48\x89\xE5\x41\x55\x41\x54\x53\x48\x83\xEC\x58\x0F\xB6\x05";
	inline const byte *Init_Steam_GC = (byte *)"\x55\x48\x89\xE5\x41\x56\x41\x55\x41\x54\x53\x48\x89\xFB\x48\x8D\x3D\x2A\x2A\x2A\x2A\xE8\x2A\x2A\x2A\x2A\x4C\x8B\x30";
	inline const byte *Init_CCSGCServerSystem = (byte *)"\x55\x48\x89\xE5\x53\x48\x89\xFB\x48\x83\xEC\x08\xE8\x2A\x2A\x2A\x2A\x48\x8D\x05\x2A\x2A\x2A\x2A\x48\x89\xDF";
	inline const byte *Active_GC_session = (byte *)"\x55\x48\x89\xE5\x41\x57\x41\x56\x41\x55\x41\x54\x53\x48\x83\xEC\x58\x0F\xB6\x05";
	inline const byte *pCCSGCServerSystem = (byte *)"\x48\x8D\x1D\x2A\x2A\x2A\x2A\x39\x05";
#endif
}